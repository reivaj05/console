"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[711],{50711:function(e,n,s){s.r(n);var t=s(29439),r=s(72791),o=s(51691),i=s(9505),c=s(23508),l=s(75952),a=s(37516),u=s(87995),d=s(25469),v=s(38442),b=s(56087),h=s(78687),p=s(80184);n.default=function(e){var n=e.closeDeleteModalAndRefresh,s=e.deleteOpen,f=e.selectedBucket,j=e.selectedObjects,g=e.versioning,x=(0,d.TL)(),m=(0,i.Z)((function(){return n(!0)}),(function(e){return x((0,u.Ih)(e))})),y=(0,t.Z)(m,2),C=y[0],T=y[1],_=(0,r.useState)(!1),k=(0,t.Z)(_,2),Z=k[0],w=k[1],N=(0,r.useState)(!1),O=(0,t.Z)(N,2),A=O[0],D=O[1],S=(0,h.v9)((function(e){return e.objectBrowser.retentionConfig})),F=(0,v.F)([f],[b.Ft.S3_BYPASS_GOVERNANCE_RETENTION])&&"governance"===(null===S||void 0===S?void 0:S.mode);if(!j)return null;return(0,p.jsx)(c.Z,{title:"Delete Objects",confirmText:"Delete",isOpen:s,titleIcon:(0,p.jsx)(l.NvT,{}),isLoading:C,onConfirm:function(){for(var e=[],n=0;n<j.length;n++)j[n].endsWith("/")?e.push({path:j[n],versionID:"",recursive:!0}):e.push({path:j[n],versionID:"",recursive:!1});e&&T("POST","/api/v1/buckets/".concat(f,"/delete-objects?all_versions=").concat(Z).concat(A?"&bypass=true":""),e)},onClose:function(){return n(!1)},confirmationContent:(0,p.jsxs)(o.Z,{children:["Are you sure you want to delete the selected ",j.length," ","objects?"," ",g&&(0,p.jsxs)(r.Fragment,{children:[(0,p.jsx)("br",{}),(0,p.jsx)("br",{}),(0,p.jsx)(a.Z,{label:"Delete All Versions",indicatorLabels:["Yes","No"],checked:Z,value:"delete_versions",id:"delete-versions",name:"delete-versions",onChange:function(e){w(!Z)},description:""}),F&&Z&&(0,p.jsx)(r.Fragment,{children:(0,p.jsx)("div",{style:{marginTop:10},children:(0,p.jsx)(a.Z,{label:"Bypass Governance Mode",indicatorLabels:["Yes","No"],checked:A,value:"bypass_governance",id:"bypass_governance",name:"bypass_governance",onChange:function(e){D(!A)},description:""})})}),Z&&(0,p.jsxs)(r.Fragment,{children:[(0,p.jsxs)("div",{style:{marginTop:10,border:"#c83b51 1px solid",borderRadius:3,padding:5,backgroundColor:"#c83b5120",color:"#c83b51"},children:["This will remove the objects as well as all of their versions, ",(0,p.jsx)("br",{}),"This action is irreversible."]}),(0,p.jsx)("br",{}),"Are you sure you want to continue?"]})]})]})})}}}]);
//# sourceMappingURL=711.fbbd2d52.chunk.js.map