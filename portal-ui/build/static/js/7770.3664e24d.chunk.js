"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[7770],{32509:function(e,t,n){var a=n(93433),i=n(1413),r=n(72791),o=n(11135),s=n(25787),l=n(23814),u=n(21435),c=n(20068),d=n(13400),g=n(42419),m=n(27247),v=n(40968),x=n(84741),f=n(61889),h=n(80184);t.Z=(0,s.Z)((function(e){return(0,o.Z)((0,i.Z)({bottomContainer:{display:"flex",flexGrow:1,alignItems:"center","& div":{flexGrow:1,width:"100%"}},shortened:{gridTemplateColumns:"auto auto 20px 20px",display:"grid",gridGap:20,paddingRight:20}},l.oO))}))((function(e){var t=e.classes,n=e.paramName,i=e.newValues,o=e.setNewValues,s=e.error,l=e.setError,p=function(e){l((0,x.he)(s,e))};(0,r.useEffect)((function(){for(var e=[],t=0;t<i.length;t++)e.push({fieldKey:"key-".concat(t.toString()),required:!1,value:i[t].key,pattern:/^[a-zA-Z0-9-_.]{1,63}$/,customPatternMessage:"Invalid key"}),e.push({fieldKey:"val-".concat(t.toString()),required:!1,value:i[t].value,pattern:/^[a-zA-Z0-9-_.]{1,63}$/,customPatternMessage:"Invalid value"});var n=(0,v.R)(e);l(n)}),[i,l]);var b=i.map((function(e,l){return(0,h.jsx)(r.Fragment,{children:(0,h.jsx)(f.ZP,{paddingBottom:1,children:(0,h.jsxs)("div",{className:t.shortened,children:[(0,h.jsx)(u.Z,{id:"key-".concat(n.replace(/ /g,""),"-").concat(l.toString()),label:"",placeholder:"Key",name:"key-".concat(l.toString()),value:i[l].key,onChange:function(e){var t=(0,a.Z)(i);t[l].key=e.target.value,o(t),p("key-".concat(l.toString()))},index:l,error:s["key-".concat(l.toString())]||""},"csv-key-".concat(l.toString())),(0,h.jsx)(u.Z,{id:"val-".concat(n.replace(/ /g,""),"-").concat(l.toString()),label:"",placeholder:"Value",name:"val-".concat(l.toString()),value:i[l].value,onChange:function(e){var t=(0,a.Z)(i);t[l].value=e.target.value,o(t),p("val-".concat(l.toString()))},index:l,error:s["val-".concat(l.toString())]||""},"csv-val-".concat(l.toString())),(0,h.jsx)(c.Z,{title:"Add ".concat(n),"aria-label":"addlabel",children:(0,h.jsx)(d.Z,{id:"add-".concat(n.replace(/ /g,""),"-").concat(l.toString()),size:"small",onClick:function(){var e=(0,a.Z)(i);e.push({key:"",value:""}),o(e)},children:(0,h.jsx)(g.Z,{})})}),(0,h.jsx)(c.Z,{title:"Remove","aria-label":"removeLabel",children:(0,h.jsx)(d.Z,{id:"remove-".concat(n.replace(/ /g,""),"-").concat(l.toString()),size:"small",style:{marginLeft:16},onClick:function(){if(1===i.length&&o([{key:"",value:""}]),i.length>1){var e=(0,a.Z)(i);e.splice(l,1),o(e)}},children:(0,h.jsx)(m.Z,{})})})]})})},"keyvalue-".concat(l.toString()))}));return(0,h.jsx)(r.Fragment,{children:b})}))},77770:function(e,t,n){n.r(t),n.d(t,{default:function(){return L}});var a=n(29439),i=n(1413),r=n(72791),o=n(16871),s=n(11135),l=n(25787),u=n(23814),c=n(61889),d=n(18073),g=n(43896),m=n(51691),v=n(23508),x=n(81207),f=n(60364),h=n(25469),p=n(87995),b=n(37516),y=n(21435),Z=n(75952),C=n(32509),j=n(56578),S=n(18158),N=n(84741),A=n(53449),R=n(1078),k=n(80184),P=(0,l.Z)((function(e){return(0,s.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},u.oZ),u.bK),{},{bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},fileItem:{marginRight:10,display:"flex","& div label":{minWidth:50},"@media (max-width: 900px)":{flexFlow:"column"}}},(0,u.Bz)(e.spacing(4))),u.QV),u.DF),u.oO),u.AK))}))((function(e){var t=e.classes,n=e.labels,i=e.annotations,s=e.nodeSelector,l=(0,h.TL)(),u=(0,o.UO)(),d=u.tenantName,g=u.tenantNamespace,m=(0,f.v9)((function(e){return e.editTenantLogging.auditLoggingEnabled})),v=(0,f.v9)((function(e){return e.editTenantLogging.image})),b=(0,f.v9)((function(e){return e.editTenantLogging.diskCapacityGB})),P=(0,f.v9)((function(e){return e.editTenantLogging.cpuRequest})),G=(0,f.v9)((function(e){return e.editTenantLogging.memRequest})),L=(0,f.v9)((function(e){return e.editTenantLogging.serviceAccountName})),q=(0,f.v9)((function(e){return e.editTenantLogging.securityContext.runAsGroup})),I=(0,f.v9)((function(e){return e.editTenantLogging.securityContext.runAsUser})),B=(0,f.v9)((function(e){return e.editTenantLogging.securityContext.fsGroup})),w=(0,f.v9)((function(e){return e.editTenantLogging.securityContext.runAsNonRoot})),T=(0,f.v9)((function(e){return e.editTenantSecurityContext.fsGroupChangePolicy})),U=(0,r.useState)({}),M=(0,a.Z)(U,2),F=M[0],D=M[1],E=(0,r.useState)(!1),_=(0,a.Z)(E,2),O=_[0],V=_[1],z=(0,r.useState)(null!=n&&n.length>0?n:[{key:"",value:""}]),K=(0,a.Z)(z,2),H=K[0],Q=K[1],W=(0,r.useState)(null!=i&&i.length>0?i:[{key:"",value:""}]),$=(0,a.Z)(W,2),X=$[0],J=$[1],Y=(0,r.useState)(null!=s&&s.length>0?s:[{key:"",value:""}]),ee=(0,a.Z)(Y,2),te=ee[0],ne=ee[1],ae=(0,r.useState)({}),ie=(0,a.Z)(ae,2),re=ie[0],oe=ie[1],se=(0,r.useState)({}),le=(0,a.Z)(se,2),ue=le[0],ce=le[1],de=(0,r.useState)({}),ge=(0,a.Z)(de,2),me=ge[0],ve=ge[1],xe=function(e){D((0,N.he)(F,e))},fe=function(e){for(var t=[],n=0;n<e.length;n++)""!==e[n].key&&t.push(e[n]);return t},he=function(){if(0!==Object.keys(F).length||0!==Object.keys(re).length||0!==Object.keys(ue).length||0!==Object.keys(me).length){return l((0,p.Ih)({errorMessage:"Invalid entry",detailedError:""})),!1}return!0};return(0,k.jsx)(r.Fragment,{children:m&&(0,k.jsxs)(r.Fragment,{children:[(0,k.jsx)(c.ZP,{item:!0,xs:12,paddingBottom:2,children:(0,k.jsx)(y.Z,{id:"image",label:"Image",placeholder:"minio/operator:v4.4.22",name:"image",value:v,onChange:function(e){e.target.validity.valid&&l((0,A.QL)(e.target.value)),xe("image")},pattern:N.lN,error:F.image||""},"image")}),(0,k.jsx)(c.ZP,{item:!0,xs:12,paddingBottom:2,children:(0,k.jsx)(y.Z,{id:"diskCapacityGB",label:"Disk Capacity",placeholder:"Disk Capacity",name:"diskCapacityGB",value:isNaN(b)?"0":b.toString(),onChange:function(e){e.target.validity.valid&&l((0,A.Tg)(parseInt(e.target.value))),xe("diskCapacityGB")},pattern:N.ux,error:F.diskCapacityGB||"",overlayObject:(0,k.jsx)(j.Z,{id:"size-unit",onUnitChange:function(){},unitSelected:"Gi",unitsList:[{label:"Gi",value:"Gi"}],disabled:!0})},"diskCapacityGB")}),(0,k.jsx)(c.ZP,{item:!0,xs:12,paddingBottom:2,children:(0,k.jsx)(y.Z,{id:"cpuRequest",label:"CPU Request",placeholder:"CPU Request",name:"cpuRequest",value:P,pattern:N.ux,onChange:function(e){e.target.validity.valid&&l((0,A.AC)(e.target.value)),xe("cpuRequest")},error:F.cpuRequest||""},"cpuRequest")}),(0,k.jsx)(c.ZP,{item:!0,xs:12,paddingBottom:2,children:(0,k.jsx)(y.Z,{id:"memRequest",label:"Memory Request",placeholder:"Memory request",name:"memRequest",value:G,onChange:function(e){e.target.validity.valid&&l((0,A.bZ)(e.target.value)),xe("memRequest")},pattern:N.ux,error:F.memRequest||"",overlayObject:(0,k.jsx)(j.Z,{id:"size-unit",onUnitChange:function(){},unitSelected:"Gi",unitsList:[{label:"Gi",value:"Gi"}],disabled:!0})},"memRequest")}),(0,k.jsx)(c.ZP,{item:!0,xs:12,paddingBottom:2,children:(0,k.jsx)(y.Z,{id:"serviceAccountName",label:"Service Account",placeholder:"Service Account Name",name:"serviceAccountName",value:L,onChange:function(e){e.target.validity.valid&&l((0,A.qX)(e.target.value)),xe("serviceAccountName")},pattern:"^[a-zA-Z0-9-.]{1,253}$",error:F.serviceAccountName||""},"serviceAccountName")}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(S.Z,{classes:t,runAsGroup:q,runAsUser:I,fsGroup:B,runAsNonRoot:w,fsGroupChangePolicy:T,setFSGroup:function(e){return l((0,A.FP)(e))},setRunAsUser:function(e){return l((0,A.wT)(e))},setRunAsGroup:function(e){return l((0,A.Be)(e))},setRunAsNonRoot:function(e){return l((0,A.vM)(e))},setFSGroupChangePolicy:function(e){return l((0,R.rR)(e))}})}),(0,k.jsxs)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:[(0,k.jsx)("span",{className:t.inputLabel,children:"Labels"}),(0,k.jsx)(C.Z,{newValues:H,setNewValues:Q,paramName:"Labels",error:re,setError:oe})]}),(0,k.jsxs)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:[(0,k.jsx)("span",{className:t.inputLabel,children:"Annotations"}),(0,k.jsx)(C.Z,{newValues:X,setNewValues:J,paramName:"Annotations",error:ue,setError:ce})]}),(0,k.jsxs)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:[(0,k.jsx)("span",{className:t.inputLabel,children:"Node Selector"}),(0,k.jsx)(C.Z,{newValues:te,setNewValues:ne,paramName:"Node Selector",error:me,setError:ve})]}),(0,k.jsx)(c.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end"},children:(0,k.jsx)(Z.zx,{type:"submit",id:"submit_button",variant:"callAction",disabled:O||!he(),onClick:function(){return function(){if(he()){V(!0);var e={runAsGroup:null!=q?q:"",runAsUser:null!=I?I:"",fsGroup:null!=B?B:"",runAsNonRoot:null==w||w};x.Z.invoke("PUT","/api/v1/namespaces/".concat(g,"/tenants/").concat(d,"/log"),{labels:fe(H),annotations:fe(X),nodeSelector:fe(te),image:v,diskCapacityGB:b.toString(),serviceAccountName:L,logCPURequest:P,logMemRequest:G,securityContext:e}).then((function(){(0,A.rK)(!0),l((0,p.y1)("Audit Log configuration updated.")),V(!1)})).catch((function(e){(0,p.Ih)(e),V(!1)}))}}()},label:"Save"})})]})})})),G=(0,l.Z)((function(e){return(0,s.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},u.oZ),u.bK),{},{bold:{fontWeight:"bold"},italic:{fontStyle:"italic"},fileItem:{marginRight:10,display:"flex","& div label":{minWidth:50},"@media (max-width: 900px)":{flexFlow:"column"}}},(0,u.Bz)(e.spacing(4))),u.QV),u.DF),u.oO),u.AK))}))((function(e){var t=e.classes,n=e.labels,i=e.annotations,s=e.nodeSelector,l=(0,h.TL)(),u=(0,o.UO)(),d=u.tenantName,g=u.tenantNamespace,m=(0,f.v9)((function(e){return e.editTenantLogging.dbImage})),v=(0,f.v9)((function(e){return e.editTenantLogging.dbInitImage})),b=(0,f.v9)((function(e){return e.editTenantLogging.dbCPURequest})),R=(0,f.v9)((function(e){return e.editTenantLogging.dbMemRequest})),P=(0,f.v9)((function(e){return e.editTenantLogging.dbServiceAccountName})),G=(0,f.v9)((function(e){return e.editTenantLogging.dbSecurityContext.runAsGroup})),L=(0,f.v9)((function(e){return e.editTenantLogging.dbSecurityContext.runAsUser})),q=(0,f.v9)((function(e){return e.editTenantLogging.dbSecurityContext.fsGroup})),I=(0,f.v9)((function(e){return e.editTenantLogging.dbSecurityContext.fsGroupChangePolicy})),B=(0,f.v9)((function(e){return e.editTenantLogging.dbSecurityContext.runAsNonRoot})),w=(0,r.useState)({}),T=(0,a.Z)(w,2),U=T[0],M=T[1],F=(0,r.useState)(null!=n&&n.length>0?n:[{key:"",value:""}]),D=(0,a.Z)(F,2),E=D[0],_=D[1],O=(0,r.useState)(null!=i&&i.length>0?i:[{key:"",value:""}]),V=(0,a.Z)(O,2),z=V[0],K=V[1],H=(0,r.useState)(null!=s&&s.length>0?s:[{key:"",value:""}]),Q=(0,a.Z)(H,2),W=Q[0],$=Q[1],X=(0,r.useState)({}),J=(0,a.Z)(X,2),Y=J[0],ee=J[1],te=(0,r.useState)({}),ne=(0,a.Z)(te,2),ae=ne[0],ie=ne[1],re=(0,r.useState)({}),oe=(0,a.Z)(re,2),se=oe[0],le=oe[1],ue=function(e){M((0,N.he)(U,e))},ce=function(e){for(var t=[],n=0;n<e.length;n++)""!==e[n].key&&t.push(e[n]);return t},de=function(){if(0!==Object.keys(U).length||0!==Object.keys(se).length||0!==Object.keys(ae).length||0!==Object.keys(Y).length){return l((0,p.Ih)({errorMessage:"Invalid entry",detailedError:""})),!1}return!0};return(0,k.jsx)(r.Fragment,{children:(0,k.jsxs)(r.Fragment,{children:[(0,k.jsx)(c.ZP,{item:!0,xs:12,paddingBottom:2,children:(0,k.jsx)(y.Z,{id:"dbImage",label:"DB Postgres Image",placeholder:"library/postgres:13",name:"dbImage",value:m,onChange:function(e){e.target.validity.valid&&l((0,A.dc)(e.target.value)),ue("dbImage")},pattern:N.lN,error:U.dbImage||""},"dbImage")}),(0,k.jsx)(c.ZP,{item:!0,xs:12,paddingBottom:2,children:(0,k.jsx)(y.Z,{id:"dbInitImage",label:"DB Init Image",placeholder:"library/busybox:1.33.1",name:"dbInitImage",value:v,onChange:function(e){e.target.validity.valid&&l((0,A.Ls)(e.target.value)),ue("dbInitImage")},pattern:N.lN,error:U.dbInitImage||""},"dbInitImage")}),(0,k.jsx)(c.ZP,{item:!0,xs:12,paddingBottom:2,children:(0,k.jsx)(y.Z,{id:"dbCPURequest",label:"DB CPU Request",placeholder:"DB CPU Request",name:"dbCPURequest",value:b,pattern:N.ux,onChange:function(e){e.target.validity.valid&&l((0,A.EL)(e.target.value)),ue("dbCPURequest")},error:U.dbCPURequest||""},"dbCPURequest")}),(0,k.jsx)(c.ZP,{item:!0,xs:12,paddingBottom:2,children:(0,k.jsx)(y.Z,{id:"dbMemRequest",label:"DB Memory Request",placeholder:"DB Memory request",name:"dbMemRequest",value:R,onChange:function(e){e.target.validity.valid&&l((0,A._i)(e.target.value)),ue("dbMemRequest")},pattern:N.ux,error:U.dbMemRequest||"",overlayObject:(0,k.jsx)(j.Z,{id:"size-unit",onUnitChange:function(){},unitSelected:"Gi",unitsList:[{label:"Gi",value:"Gi"}],disabled:!0})},"dbMemRequest")}),(0,k.jsxs)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:[(0,k.jsx)("span",{className:t.inputLabel,children:"DB Labels"}),(0,k.jsx)(C.Z,{newValues:E,setNewValues:_,paramName:"dbLabels",error:Y,setError:ee})]}),(0,k.jsxs)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:[(0,k.jsx)("span",{className:t.inputLabel,children:"DB Annotations"}),(0,k.jsx)(C.Z,{newValues:z,setNewValues:K,paramName:"dbAnnotations",error:ae,setError:ie})]}),(0,k.jsxs)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:[(0,k.jsx)("span",{className:t.inputLabel,children:"DB Node Selector"}),(0,k.jsx)(C.Z,{newValues:W,setNewValues:$,paramName:"DB Node Selector",error:se,setError:le})]}),(0,k.jsx)(c.ZP,{item:!0,xs:12,className:t.formFieldRow,children:(0,k.jsx)(S.Z,{classes:t,runAsGroup:G,runAsUser:L,fsGroup:q,fsGroupChangePolicy:I,runAsNonRoot:B,setFSGroup:function(e){return l((0,A.MK)(e))},setRunAsUser:function(e){return l((0,A.qT)(e))},setRunAsGroup:function(e){return l((0,A.w7)(e))},setRunAsNonRoot:function(e){return l((0,A.PU)(e))},setFSGroupChangePolicy:function(e){return l((0,A.Hq)(e))}})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end"},children:(0,k.jsx)(Z.zx,{type:"submit",id:"submit_button",variant:"callAction",disabled:!de(),onClick:function(){return function(){if(de()){var e={runAsGroup:null!=G?G:"",runAsUser:null!=L?L:"",fsGroup:null!=q?q:"",runAsNonRoot:null==B||B,fsGroupChangePolicy:null!=I?I:"Always"};x.Z.invoke("PUT","/api/v1/namespaces/".concat(g,"/tenants/").concat(d,"/log"),{dbLabels:ce(E),dbAnnotations:ce(z),dbNodeSelector:ce(W),dbImage:m,dbInitImage:v,dbServiceAccountName:P,logDBCPURequest:b,logDBMemRequest:R,dbSecurityContext:e}).then((function(){(0,A.rK)(!0),l((0,p.y1)("Audit Log DB configuration updated."))})).catch((function(e){(0,p.Ih)(e)}))}}()},label:"Save"})})]})})})),L=(0,l.Z)((function(e){return(0,s.Z)((0,i.Z)({breadcrumLink:{textDecoration:"none",color:"black"}},(0,u.Bz)(e.spacing(4))))}))((function(e){var t=e.classes,n=(0,o.UO)(),s=n.tenantNamespace,l=n.tenantName,u=(0,r.useState)(0),y=(0,a.Z)(u,2),Z=y[0],C=y[1],j=(0,r.useState)(!0),S=(0,a.Z)(j,2),N=S[0],R=S[1],L=(0,r.useState)(!1),q=(0,a.Z)(L,2),I=q[0],B=q[1],w=(0,r.useState)(!0),T=(0,a.Z)(w,2),U=T[0],M=T[1],F=(0,r.useState)([{key:"",value:""}]),D=(0,a.Z)(F,2),E=D[0],_=D[1],O=(0,r.useState)([{key:"",value:""}]),V=(0,a.Z)(O,2),z=V[0],K=V[1],H=(0,r.useState)([{key:"",value:""}]),Q=(0,a.Z)(H,2),W=Q[0],$=Q[1],X=(0,r.useState)([{key:"",value:""}]),J=(0,a.Z)(X,2),Y=J[0],ee=J[1],te=(0,r.useState)([{key:"",value:""}]),ne=(0,a.Z)(te,2),ae=ne[0],ie=ne[1],re=(0,r.useState)([{key:"",value:""}]),oe=(0,a.Z)(re,2),se=oe[0],le=oe[1],ue=(0,h.TL)(),ce=(0,f.v9)((function(e){return e.editTenantLogging.auditLoggingEnabled}));function de(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}(0,r.useEffect)((function(){U&&x.Z.invoke("GET","/api/v1/namespaces/".concat(s,"/tenants/").concat(l,"/log")).then((function(e){null!==e&&(ue((0,A._1)(e.auditLoggingEnabled)),function(e){null!==e&&(ue((0,A._1)(null!==e&&!e.disabled)),null!=e.dbServiceAccountName&&ue((0,A.NF)(e.dbServiceAccountName)),null!=e.dbImage&&ue((0,A.dc)(e.dbImage)),null!=e.dbInitImage&&ue((0,A.Ls)(e.dbInitImage)),null!=e.logDBCPURequest&&ue((0,A.EL)(e.logDBCPURequest)),e.logDBMemRequest?ue((0,A._i)(Math.floor(parseInt(e.logDBMemRequest,10)).toString())):ue((0,A._i)("0")),e.dbSecurityContext&&(ue((0,A.w7)(e.dbSecurityContext.runAsGroup)),ue((0,A.qT)(e.dbSecurityContext.runAsUser)),ue((0,A.MK)(e.dbSecurityContext.fsGroup)),ue((0,A.PU)(e.dbSecurityContext.runAsNonRoot))),null!=e.image&&ue((0,A.QL)(e.image)),null!=e.serviceAccountName&&ue((0,A.qX)(e.serviceAccountName)),null!=e.logCPURequest&&ue((0,A.AC)(e.logCPURequest)),e.logMemRequest?ue((0,A.bZ)(Math.floor(parseInt(e.logMemRequest,10)).toString())):ue((0,A.bZ)("0")),e.securityContext&&(ue((0,A.Be)(e.securityContext.runAsGroup)),ue((0,A.wT)(e.securityContext.runAsUser)),ue((0,A.FP)(e.securityContext.fsGroup)),ue((0,A.vM)(e.securityContext.runAsNonRoot))),null!=e.diskCapacityGB&&ue((0,A.Tg)(e.diskCapacityGB)),null!=e.labels?ee(e.labels):ee([{key:"",value:""}]),null!=e.annotations?ie(e.annotations):ie([{key:"",value:""}]),null!=e.nodeSelector?le(e.nodeSelector):le([{key:"",value:""}]),null!=e.dbLabels?_(e.dbLabels):_([{key:"",value:""}]),null!=e.dbAnnotations?K(e.dbAnnotations):K([{key:"",value:""}]),null!=e.dbNodeSelector?$(e.dbNodeSelector):$([{key:"",value:""}]),M(!1))}(e),M(!1))})).catch((function(e){ue((0,p.Ih)(e)),M(!1)}))}),[U]),(0,r.useEffect)((function(){N&&R(!1)}),[N,U]);return(0,k.jsxs)(r.Fragment,{children:[(0,k.jsx)(c.ZP,{item:!0,xs:!0,children:I&&(0,k.jsx)(v.Z,{isOpen:I,title:ce?"Disable Audit Logging for this tenant?":"Enable Audit Logging for this tenant?",confirmText:ce?"Disable":"Enable",cancelText:"Cancel",onClose:function(){return B(!1)},onConfirm:function(){ue((0,A.BK)()),ce?x.Z.invoke("POST","/api/v1/namespaces/".concat(s,"/tenants/").concat(l,"/disable-logging")).then((function(){(0,A._1)(!1),M(!0),B(!1),ue((0,A.BK)())})).catch((function(e){ue((0,p.Ih)({errorMessage:"Error disabling logging",detailedError:e.detailedError}))})):x.Z.invoke("POST","/api/v1/namespaces/".concat(s,"/tenants/").concat(l,"/enable-logging")).then((function(){M(!0),B(!1),(0,A._1)(!0)})).catch((function(e){ue((0,p.Ih)({errorMessage:"Error enabling logging",detailedError:e.detailedError}))}))},confirmationContent:(0,k.jsx)(m.Z,{children:ce?" Current configuration will be lost, and defaults reset if reenabled.":"A small Postgres server will be started per the configuration provided, which will collect the audit logs for your tenant."})})}),(0,k.jsxs)(c.ZP,{container:!0,children:[(0,k.jsx)(c.ZP,{item:!0,xs:!0,children:(0,k.jsx)("h1",{className:t.sectionTitle,children:"Audit Logs"})}),(0,k.jsx)(c.ZP,{children:(0,k.jsx)(b.Z,{label:"",indicatorLabels:["Enabled","Disabled"],checked:ce,value:"tenant_logging",id:"tenant_logging",name:"tenant_logging",onChange:function(){B(!0)},description:""})})]}),(0,k.jsx)(c.ZP,{container:!0,children:ce&&(0,k.jsxs)(r.Fragment,{children:[(0,k.jsx)(c.ZP,{item:!0,xs:9,children:(0,k.jsxs)(d.Z,{value:Z,onChange:function(e,t){C(t)},indicatorColor:"primary",textColor:"primary","aria-label":"cluster-tabs",variant:"scrollable",scrollButtons:"auto",children:[(0,k.jsx)(g.Z,(0,i.Z)({label:"Configuration"},de(0))),(0,k.jsx)(g.Z,(0,i.Z)({label:"DB Configuration"},de(1)))]})}),(0,k.jsx)(c.ZP,{item:!0,xs:12,children:(0,k.jsx)("hr",{className:t.hrClass})}),0===Z&&(0,k.jsx)(P,{classes:t,labels:Y,annotations:ae,nodeSelector:se}),1===Z&&(0,k.jsx)(G,{classes:t,labels:E,annotations:z,nodeSelector:W})]})})]})}))},18158:function(e,t,n){var a=n(72791),i=n(21435),r=n(37516),o=n(90673),s=n(61889),l=n(60364),u=n(11135),c=n(25787),d=n(80184);t.Z=(0,c.Z)((function(e){return(0,u.Z)({configSectionItem:{marginRight:15,marginBottom:15,"& .multiContainer":{border:"1px solid red"}}})}))((function(e){var t=e.classes,n=e.runAsGroup,u=e.runAsUser,c=e.fsGroup,g=e.fsGroupChangePolicy,m=e.runAsNonRoot,v=e.setRunAsUser,x=e.setRunAsGroup,f=e.setFSGroup,h=e.setRunAsNonRoot,p=e.setFSGroupChangePolicy,b=(0,l.I0)();return(0,d.jsx)(a.Fragment,{children:(0,d.jsxs)("fieldset",{className:"".concat(t.fieldGroup," ").concat(t.fieldSpaceTop," "),children:[(0,d.jsx)("legend",{className:t.descriptionText,children:"Security Context"}),(0,d.jsx)(s.ZP,{item:!0,xs:12,children:(0,d.jsxs)("div",{className:"".concat(t.multiContainerStackNarrow," "),children:[(0,d.jsx)("div",{className:t.configSectionItem,children:(0,d.jsx)(i.Z,{type:"number",id:"securityContext_runAsUser",name:"securityContext_runAsUser",onChange:function(e){b(v(e.target.value))},label:"Run As User",value:u,required:!0,min:"0"})}),(0,d.jsx)("div",{className:t.configSectionItem,children:(0,d.jsx)(i.Z,{type:"number",id:"securityContext_runAsGroup",name:"securityContext_runAsGroup",onChange:function(e){b(x(e.target.value))},label:"Run As Group",value:n,required:!0,min:"0"})})]})}),(0,d.jsx)(s.ZP,{item:!0,xs:12,children:(0,d.jsxs)("div",{className:"".concat(t.multiContainerStackNarrow," "),children:[(0,d.jsx)("div",{className:t.configSectionItem,children:(0,d.jsx)(i.Z,{type:"number",id:"securityContext_fsGroup",name:"securityContext_fsGroup",onChange:function(e){b(f(e.target.value))},label:"FsGroup",value:c,required:!0,min:"0"})}),(0,d.jsx)("div",{className:t.configSectionItem,children:(0,d.jsx)(o.Z,{label:"FsGroupChangePolicy",id:"securityContext_fsGroupChangePolicy",name:"securityContext_fsGroupChangePolicy",onChange:function(e){b(p(e.target.value))},value:g,options:[{label:"Always",value:"Always"},{label:"OnRootMismatch",value:"OnRootMismatch"}]})})]})}),(0,d.jsx)(s.ZP,{item:!0,xs:12,children:(0,d.jsx)("div",{className:t.multiContainer,children:(0,d.jsx)(r.Z,{value:"SecurityContextRunAsNonRoot",id:"securityContext_runAsNonRoot",name:"securityContext_runAsNonRoot",checked:m,onChange:function(){b(h(!m))},label:"Do not run as Root"})})})]})})}))},42419:function(e,t,n){var a=n(64836);t.Z=void 0;var i=a(n(45649)),r=n(80184),o=(0,i.default)((0,r.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");t.Z=o},27247:function(e,t,n){var a=n(64836);t.Z=void 0;var i=a(n(45649)),r=n(80184),o=(0,i.default)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");t.Z=o}}]);
//# sourceMappingURL=7770.3664e24d.chunk.js.map