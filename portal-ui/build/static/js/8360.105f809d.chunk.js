"use strict";(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[8360],{23804:function(e,t,n){n(72791);var i=n(11135),o=n(25787),r=n(61889),s=n(80184);t.Z=(0,o.Z)((function(e){return(0,i.Z)({root:{border:"1px solid #E2E2E2",borderRadius:2,backgroundColor:"#FBFAFA",paddingLeft:25,paddingTop:31,paddingBottom:21,paddingRight:30},leftItems:{fontSize:16,fontWeight:"bold",marginBottom:15,display:"flex",alignItems:"center","& .min-icon":{marginRight:15,height:28,width:38}},helpText:{fontSize:16,paddingLeft:5}})}))((function(e){var t=e.classes,n=e.iconComponent,i=e.title,o=e.help;return(0,s.jsx)("div",{className:t.root,children:(0,s.jsxs)(r.ZP,{container:!0,children:[(0,s.jsxs)(r.ZP,{item:!0,xs:12,className:t.leftItems,children:[n,i]}),(0,s.jsx)(r.ZP,{item:!0,xs:12,className:t.helpText,children:o})]})})}))},81806:function(e,t,n){var i=n(1413),o=n(45987),r=(n(72791),n(11135)),s=n(25787),a=n(80184),l=["classes","children"];t.Z=(0,s.Z)((function(e){return(0,r.Z)({root:{padding:0,margin:0,border:0,backgroundColor:"transparent",textDecoration:"underline",cursor:"pointer",fontSize:"inherit",color:e.palette.info.main,fontFamily:"Lato, sans-serif"}})}))((function(e){var t=e.classes,n=e.children,r=(0,o.Z)(e,l);return(0,a.jsx)("button",(0,i.Z)((0,i.Z)({},r),{},{className:t.root,children:n}))}))},56028:function(e,t,n){var i=n(29439),o=n(1413),r=n(72791),s=n(60364),a=n(13400),l=n(55646),c=n(5574),d=n(65661),p=n(39157),u=n(11135),x=n(25787),m=n(23814),f=n(25469),h=n(29823),g=n(28057),v=n(87995),Z=n(80184);t.Z=(0,x.Z)((function(e){return(0,u.Z)((0,o.Z)((0,o.Z)({},m.Qw),{},{content:{padding:25,paddingBottom:0},customDialogSize:{width:"100%",maxWidth:765}},m.sN))}))((function(e){var t=e.onClose,n=e.modalOpen,u=e.title,x=e.children,m=e.classes,b=e.wideLimit,j=void 0===b||b,y=e.noContentPadding,C=e.titleIcon,S=void 0===C?null:C,I=(0,f.TL)(),O=(0,r.useState)(!1),k=(0,i.Z)(O,2),w=k[0],D=k[1],E=(0,s.v9)((function(e){return e.system.modalSnackBar}));(0,r.useEffect)((function(){I((0,v.MK)(""))}),[I]),(0,r.useEffect)((function(){if(E){if(""===E.message)return void D(!1);"error"!==E.type&&D(!0)}}),[E]);var T=j?{classes:{paper:m.customDialogSize}}:{maxWidth:"lg",fullWidth:!0},R="";return E&&(R=E.detailedErrorMsg,(""===E.detailedErrorMsg||E.detailedErrorMsg.length<5)&&(R=E.message)),(0,Z.jsxs)(c.Z,(0,o.Z)((0,o.Z)({open:n,classes:m},T),{},{scroll:"paper",onClose:function(e,n){"backdropClick"!==n&&t()},className:m.root,children:[(0,Z.jsxs)(d.Z,{className:m.title,children:[(0,Z.jsxs)("div",{className:m.titleText,children:[S," ",u]}),(0,Z.jsx)("div",{className:m.closeContainer,children:(0,Z.jsx)(a.Z,{"aria-label":"close",id:"close",className:m.closeButton,onClick:t,disableRipple:!0,size:"small",children:(0,Z.jsx)(h.Z,{})})})]}),(0,Z.jsx)(g.Z,{isModal:!0}),(0,Z.jsx)(l.Z,{open:w,className:m.snackBarModal,onClose:function(){D(!1),I((0,v.MK)(""))},message:R,ContentProps:{className:"".concat(m.snackBar," ").concat(E&&"error"===E.type?m.errorSnackBar:"")},autoHideDuration:E&&"error"===E.type?1e4:5e3}),(0,Z.jsx)(p.Z,{className:y?"":m.content,children:x})]}))}))},27454:function(e,t,n){var i=n(1413),o=n(72791),r=n(20068),s=n(80184);t.Z=function(e){var t=e.tooltip,n=e.children,a=e.errorProps,l=void 0===a?null:a;return(0,s.jsx)(r.Z,{title:t,children:(0,s.jsx)("span",{children:l?(0,o.cloneElement)(n,(0,i.Z)({},l)):n})})}},18360:function(e,t,n){n.r(t),n.d(t,{default:function(){return F}});var i=n(1413),o=n(29439),r=n(72791),s=n(16871),a=n(64554),l=n(61889),c=n(51691),d=n(32291),p=n(74794),u=n(9505),x=n(90493),m=n(76278),f=n(20068),h=n(75952),g=n(54599),v=n(38588),Z=n(23508),b=n(25787),j=n(11135),y=n(23814),C=n(27454),S=n(21435),I=n(56028),O=n(87995),k=n(25469),w=n(80184),D=(0,b.Z)((function(e){return(0,j.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},y.ID),y.DF),y.bK))}))((function(e){var t=e.editSite,n=void 0===t?{}:t,i=e.onClose,s=e.onComplete,d=e.classes,p=void 0===d?{}:d,x=(0,k.TL)(),m=(0,r.useState)(""),f=(0,o.Z)(m,2),g=f[0],Z=f[1],b=(0,u.Z)((function(e){e.success?x((0,O.y1)(e.status)):x((0,O.Ih)({errorMessage:"Error",detailedError:e.status})),s()}),(function(e){x((0,O.Ih)(e)),s()})),j=(0,o.Z)(b,2),y=j[0],C=j[1],D=!1;try{new URL(g),D=!0}catch(E){D=!1}return(0,w.jsxs)(I.Z,{title:"Edit Replication Endpoint ",modalOpen:!0,titleIcon:(0,w.jsx)(v.dY8,{}),onClose:i,children:[(0,w.jsxs)(c.Z,{children:[(0,w.jsxs)(a.Z,{sx:{display:"flex",flexFlow:"column",marginBottom:"15px"},children:[(0,w.jsxs)(a.Z,{sx:{marginBottom:"10px"},children:[(0,w.jsx)("strong",{children:"Site:"})," ","  ",n.name]}),(0,w.jsxs)(a.Z,{sx:{marginBottom:"10px"},children:[(0,w.jsx)("strong",{children:"Current Endpoint:"})," ","  ",n.endpoint]})]}),(0,w.jsxs)(l.ZP,{item:!0,xs:12,children:[(0,w.jsx)(a.Z,{sx:{marginBottom:"5px"},children:" New Endpoint:"}),(0,w.jsx)(S.Z,{id:"edit-rep-peer-endpoint",name:"edit-rep-peer-endpoint",placeholder:"https://dr.minio-storage:9000",onChange:function(e){Z(e.target.value)},label:"",value:g})]}),(0,w.jsx)(l.ZP,{item:!0,xs:12,marginBottom:"15px",children:(0,w.jsxs)(a.Z,{sx:{fontStyle:"italic",display:"flex",alignItems:"center",fontSize:"12px",marginTop:2},children:[(0,w.jsx)(a.Z,{sx:{fontWeight:600},children:"Note:"})," ",(0,w.jsx)(a.Z,{sx:{marginLeft:1,color:"red"},children:"Access Key and Secret Key should be same on the new site/endpoint."})]})})]}),(0,w.jsxs)(l.ZP,{item:!0,xs:12,className:p.modalButtonBar,children:[(0,w.jsx)(h.zx,{id:"close",type:"button",variant:"regular",onClick:i,label:"Close"}),(0,w.jsx)(h.zx,{id:"update",type:"button",variant:"callAction",disabled:y||!D,onClick:function(){C("PUT","api/v1/admin/site-replication",{endpoint:g,name:n.name,deploymentId:n.deploymentID})},label:"Update"})]})]})})),E=(0,b.Z)((function(e){return(0,j.Z)((0,i.Z)((0,i.Z)((0,i.Z)({},y.ID),y.DF),y.bK))}))((function(e){var t=e.sites,n=e.onDeleteSite,i=e.onRefresh,s=(0,r.useState)(""),l=(0,o.Z)(s,2),d=l[0],p=l[1],u=(0,r.useState)(null),b=(0,o.Z)(u,2),j=b[0],y=b[1];return(0,w.jsx)(a.Z,{children:(0,w.jsxs)(x.Z,{sx:{width:"100%",flex:1,padding:"0",marginTop:"25px",height:"calc( 100vh - 640px )",minHeight:"250px",border:"1px solid #eaeaea",marginBottom:"25px",overflowY:"auto"},component:"div","aria-labelledby":"nested-list-subheader",children:[(0,w.jsx)(a.Z,{sx:{fontWeight:600,borderBottom:"1px solid #f1f1f1",padding:"25px 25px 25px 20px"},children:"List of Replicated Sites"}),t.map((function(e,t){var o="".concat(e.name);return(0,w.jsxs)(r.Fragment,{children:[(0,w.jsxs)(m.Z,{disableRipple:!0,sx:{display:"flex",alignItems:"center",border:"1px solid #f1f1f1",borderLeft:"0",borderRight:"0",borderTop:"0",padding:"6px 10px 6px 20px","&:hover":{background:"#bebbbb0d"},"&.expanded":{marginBottom:"0"}},children:[(0,w.jsxs)(a.Z,{sx:{flex:2,display:"grid",gridTemplateColumns:{sm:"1fr 1fr "}},children:[(0,w.jsx)(a.Z,{sx:{display:"flex",alignItems:"center",overflow:"hidden"},children:e.name}),(0,w.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",overflow:"hidden"},children:[e.isCurrent?(0,w.jsx)(f.Z,{title:"This site/cluster",placement:"top",children:(0,w.jsx)(a.Z,{sx:{"& .min-icon":{height:"12px",fill:"green"}},children:(0,w.jsx)(v.J$M,{})})}):null,(0,w.jsx)(f.Z,{title:e.endpoint,children:(0,w.jsx)(a.Z,{sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",marginLeft:e.isCurrent?"":"24px"},children:e.endpoint})})]})]}),(0,w.jsxs)(a.Z,{sx:{display:"flex",marginLeft:"25px",marginRight:"25px",width:"60px",flexShrink:0,"& button":{borderRadius:"50%",background:"#F8F8F8",border:"none","&:hover":{background:"#E2E2E2"},"& svg":{fill:"#696565"}}},children:[(0,w.jsx)(C.Z,{tooltip:"Delete Site",children:(0,w.jsx)(h.zx,{id:"delete-site-".concat(o,"-").concat(t),variant:"secondary",disabled:e.isCurrent,icon:(0,w.jsx)(g.Z,{}),onClick:function(e){e.preventDefault(),p(o)},style:{width:"25px",height:"25px",padding:"0"}})}),(0,w.jsx)(C.Z,{tooltip:"Edit Endpoint",children:(0,w.jsx)(h.zx,{id:"edit-icon-".concat(o,"-").concat(t),variant:"regular",disabled:e.isCurrent,icon:(0,w.jsx)(v.dY8,{}),onClick:function(t){t.preventDefault(),y(e)},style:{width:"25px",height:"25px",padding:"0",marginLeft:"8px"}})})]})]}),d===o?(0,w.jsx)(Z.Z,{title:"Delete Replication Site",confirmText:"Delete",isOpen:!0,titleIcon:(0,w.jsx)(v.NvT,{}),isLoading:!1,onConfirm:function(){n(!1,[o])},onClose:function(){p("")},confirmationContent:(0,w.jsxs)(c.Z,{children:["Are you sure you want to remove the replication site:"," ",o,".?"]})}):null,(null===j||void 0===j?void 0:j.name)===o?(0,w.jsx)(D,{onComplete:function(){y(null),i()},editSite:j,onClose:function(){y(null)}}):null]},"".concat(o,"-").concat(t))}))]})})})),T=n(72401),R=n(23804),A=n(56087),P=n(81806),F=function(){var e=(0,k.TL)(),t=(0,s.s0)(),n=(0,r.useState)([]),x=(0,o.Z)(n,2),m=x[0],f=x[1],b=(0,r.useState)(!1),j=(0,o.Z)(b,2),y=j[0],S=j[1],I=(0,u.Z)((function(e){var t=e.sites,n=e.name,o=t.findIndex((function(e){return e.name===n}));if(-1!==o){var r=t[o];r=(0,i.Z)((0,i.Z)({},r),{},{isCurrent:!0}),t.splice(o,1,r)}t.sort((function(e,t){return e.name===n?-1:t.name===n?1:0})),f(t)}),(function(e){f([])})),D=(0,o.Z)(I,2),F=D[0],N=D[1],B=function(){N("GET","api/v1/admin/site-replication")},L=(0,u.Z)((function(t){S(!1),e((0,O.y1)("Successfully deleted.")),B()}),(function(t){e((0,O.Ih)(t))})),M=(0,o.Z)(L,2),z=M[0],_=M[1],W=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];_("DELETE","api/v1/admin/site-replication",{all:e,sites:t})};(0,r.useEffect)((function(){B()}),[]);var G=null===m||void 0===m?void 0:m.length;return(0,w.jsxs)(r.Fragment,{children:[(0,w.jsx)(d.Z,{label:"Site Replication"}),(0,w.jsxs)(p.Z,{children:[(0,w.jsxs)(a.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-end","& button":{marginLeft:"8px"}},children:[G?(0,w.jsxs)(r.Fragment,{children:[(0,w.jsx)(C.Z,{tooltip:"Delete All",children:(0,w.jsx)(h.zx,{id:"delete-all",label:"Delete All",variant:"secondary",disabled:z,icon:(0,w.jsx)(g.Z,{}),onClick:function(){S(!0)}})}),(0,w.jsx)(C.Z,{tooltip:"Replication Status",children:(0,w.jsx)(h.zx,{id:"replication-status",label:"Replication Status",variant:"regular",icon:(0,w.jsx)(v.D7Y,{}),onClick:function(e){e.preventDefault(),t(A.gA.SITE_REPLICATION_STATUS)}})})]}):null,(0,w.jsx)(C.Z,{tooltip:"Add Replication Sites",children:(0,w.jsx)(h.zx,{id:"add-replication-site",label:"Add Sites",variant:"callAction",disabled:z,icon:(0,w.jsx)(v.dtP,{}),onClick:function(){t(A.gA.SITE_REPLICATION_ADD)}})})]}),G?(0,w.jsx)(E,{sites:m,onDeleteSite:W,onRefresh:B}):null,F?(0,w.jsx)(a.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"calc( 100vh - 450px )"},children:(0,w.jsx)(T.Z,{style:{width:16,height:16}})}):null,G||F?null:(0,w.jsx)(l.ZP,{container:!0,justifyContent:"center",alignContent:"center",alignItems:"center",children:(0,w.jsx)(l.ZP,{item:!0,xs:8,children:(0,w.jsx)(R.Z,{title:"Site Replication",iconComponent:(0,w.jsx)(v.aWt,{}),help:(0,w.jsxs)(r.Fragment,{children:["This feature allows multiple independent MinIO sites (or clusters) that are using the same external IDentity Provider (IDP) to be configured as replicas.",(0,w.jsx)("br",{}),(0,w.jsx)("br",{}),"To get started,"," ",(0,w.jsx)(P.Z,{onClick:function(){t(A.gA.SITE_REPLICATION_ADD)},children:"Add a Replication Site"}),".",(0,w.jsx)("br",{}),"You can learn more at our"," ",(0,w.jsx)("a",{href:"https://min.io/docs/minio/linux/operations/install-deploy-manage/multi-site-replication.html?ref=con",target:"_blank",rel:"noreferrer",children:"documentation"}),"."]})})})}),G&&!F?(0,w.jsx)(R.Z,{title:"Site Replication",iconComponent:(0,w.jsx)(v.aWt,{}),help:(0,w.jsxs)(r.Fragment,{children:["This feature allows multiple independent MinIO sites (or clusters) that are using the same external IDentity Provider (IDP) to be configured as replicas. In this situation the set of replica sites are referred to as peer sites or just sites.",(0,w.jsx)("br",{}),(0,w.jsx)("br",{}),"Initially, only one of the sites added for replication may have data. After site-replication is successfully configured, this data is replicated to the other (initially empty) sites. Subsequently, objects may be written to any of the sites, and they will be replicated to all other sites.",(0,w.jsx)("br",{}),(0,w.jsx)("br",{}),"All sites must have the same deployment credentials (i.e. MINIO_ROOT_USER, MINIO_ROOT_PASSWORD).",(0,w.jsx)("br",{}),(0,w.jsx)("br",{}),"All sites must be using the same external IDP(s) if any.",(0,w.jsx)("br",{}),(0,w.jsx)("br",{}),"For SSE-S3 or SSE-KMS encryption via KMS, all sites must have access to a central KMS deployment server.",(0,w.jsx)("br",{}),(0,w.jsx)("br",{}),"You can learn more at our"," ",(0,w.jsx)("a",{href:"https://github.com/minio/minio/tree/master/docs/site-replication?ref=con",target:"_blank",rel:"noreferrer",children:"documentation"}),"."]})}):null,y?(0,w.jsx)(Z.Z,{title:"Delete All",confirmText:"Delete",isOpen:!0,titleIcon:(0,w.jsx)(v.NvT,{}),isLoading:!1,onConfirm:function(){var e=m.map((function(e){return e.name}));W(!0,e)},onClose:function(){S(!1)},confirmationContent:(0,w.jsx)(c.Z,{children:"Are you sure you want to remove all the replication sites?."})}):null]})]})}},76278:function(e,t,n){var i=n(4942),o=n(63366),r=n(87462),s=n(72791),a=n(28182),l=n(94419),c=n(12065),d=n(66934),p=n(31402),u=n(95080),x=n(40162),m=n(42071),f=n(66199),h=n(34065),g=n(80184),v=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected"],Z=(0,d.ZP)(u.Z,{shouldForwardProp:function(e){return(0,d.FO)(e)||"classes"===e},name:"MuiListItemButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,o=e.ownerState;return(0,r.Z)((t={display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,i.Z)(t,"&.".concat(h.Z.selected),(0,i.Z)({backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,c.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(h.Z.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):(0,c.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),(0,i.Z)(t,"&.".concat(h.Z.selected,":hover"),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):(0,c.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,c.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),(0,i.Z)(t,"&.".concat(h.Z.focusVisible),{backgroundColor:(n.vars||n).palette.action.focus}),(0,i.Z)(t,"&.".concat(h.Z.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),t),o.divider&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider),backgroundClip:"padding-box"},"flex-start"===o.alignItems&&{alignItems:"flex-start"},!o.disableGutters&&{paddingLeft:16,paddingRight:16},o.dense&&{paddingTop:4,paddingBottom:4})})),b=s.forwardRef((function(e,t){var n=(0,p.Z)({props:e,name:"MuiListItemButton"}),i=n.alignItems,c=void 0===i?"center":i,d=n.autoFocus,u=void 0!==d&&d,b=n.component,j=void 0===b?"div":b,y=n.children,C=n.dense,S=void 0!==C&&C,I=n.disableGutters,O=void 0!==I&&I,k=n.divider,w=void 0!==k&&k,D=n.focusVisibleClassName,E=n.selected,T=void 0!==E&&E,R=(0,o.Z)(n,v),A=s.useContext(f.Z),P={dense:S||A.dense||!1,alignItems:c,disableGutters:O},F=s.useRef(null);(0,x.Z)((function(){u&&F.current&&F.current.focus()}),[u]);var N=(0,r.Z)({},n,{alignItems:c,dense:P.dense,disableGutters:O,divider:w,selected:T}),B=function(e){var t=e.alignItems,n=e.classes,i=e.dense,o=e.disabled,s={root:["root",i&&"dense",!e.disableGutters&&"gutters",e.divider&&"divider",o&&"disabled","flex-start"===t&&"alignItemsFlexStart",e.selected&&"selected"]},a=(0,l.Z)(s,h.t,n);return(0,r.Z)({},n,a)}(N),L=(0,m.Z)(F,t);return(0,g.jsx)(f.Z.Provider,{value:P,children:(0,g.jsx)(Z,(0,r.Z)({ref:L,href:R.href||R.to,component:(R.href||R.to)&&"div"===j?"a":j,focusVisibleClassName:(0,a.Z)(B.focusVisible,D),ownerState:N},R,{classes:B,children:y}))})}));t.Z=b},45987:function(e,t,n){n.d(t,{Z:function(){return o}});var i=n(63366);function o(e,t){if(null==e)return{};var n,o,r=(0,i.Z)(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}}}]);
//# sourceMappingURL=8360.105f809d.chunk.js.map