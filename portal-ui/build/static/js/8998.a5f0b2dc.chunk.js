(self.webpackChunkportal_ui=self.webpackChunkportal_ui||[]).push([[8998],{45902:function(e,n,t){"use strict";var o=t(1413),r=(t(72791),t(53767)),i=t(80184);n.Z=function(e){var n=e.label,t=void 0===n?null:n,s=e.value,a=void 0===s?"-":s,l=e.orientation,c=void 0===l?"column":l,u=e.stkProps,d=void 0===u?{}:u,f=e.lblProps,v=void 0===f?{}:f,x=e.valProps,p=void 0===x?{}:x;return(0,i.jsxs)(r.Z,(0,o.Z)((0,o.Z)({direction:{xs:"column",sm:c}},d),{},{children:[(0,i.jsx)("label",(0,o.Z)((0,o.Z)({style:{marginRight:5,fontWeight:600}},v),{},{children:t})),(0,i.jsx)("label",(0,o.Z)((0,o.Z)({style:{marginRight:5,fontWeight:500}},p),{},{children:a}))]}))}},51379:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return F}});var o=t(1413),r=t(72791),i=t(78687),s=t(57689),a=t(11135),l=t(25787),c=t(23814),u=t(61889),d=t(25469),f=t(29439),v=t(27391),x=t(63466),p=t(75952),m=t(92983),h=t(17238),Z=t(27454),j=t(80184),y=(0,l.Z)((function(e){return(0,a.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},c.oZ),c.OR),c.VX),(0,c.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=e.setPoolDetailsView,o=(0,d.TL)(),a=(0,s.s0)(),l=(0,i.v9)((function(e){return e.tenants.loadingTenant})),c=(0,i.v9)((function(e){return e.tenants.tenantInfo})),y=(0,r.useState)([]),g=(0,f.Z)(y,2),b=g[0],C=g[1],k=(0,r.useState)(""),P=(0,f.Z)(k,2),A=P[0],w=P[1];(0,r.useEffect)((function(){if(c){var e=c.pools?c.pools:[];C(e)}}),[c]);var S=b.filter((function(e){return!!e.name.toLowerCase().includes(A.toLowerCase())})),z=[{type:"view",onClick:function(e){o((0,h.Lm)(e.name)),t()}}];return(0,j.jsxs)(r.Fragment,{children:[(0,j.jsxs)(u.ZP,{item:!0,xs:12,className:n.actionsTray,children:[(0,j.jsx)(v.Z,{placeholder:"Filter",className:n.searchField,id:"search-resource",label:"",onChange:function(e){w(e.target.value)},InputProps:{disableUnderline:!0,startAdornment:(0,j.jsx)(x.Z,{position:"start",children:(0,j.jsx)(p.W1M,{})})},variant:"standard"}),(0,j.jsx)(Z.Z,{tooltip:"Expand Tenant",children:(0,j.jsx)(p.zxk,{id:"expand-tenant",label:"Expand Tenant",onClick:function(){a("/namespaces/".concat((null===c||void 0===c?void 0:c.namespace)||"","/tenants/").concat((null===c||void 0===c?void 0:c.name)||"","/add-pool"))},icon:(0,j.jsx)(p.dtP,{}),variant:"callAction"})})]}),(0,j.jsx)(u.ZP,{item:!0,xs:12,className:n.tableBlock,children:(0,j.jsx)(m.Z,{itemActions:z,columns:[{label:"Name",elementKey:"name"},{label:"Capacity",elementKey:"capacity"},{label:"# of Instances",elementKey:"servers"},{label:"# of Drives",elementKey:"volumes"}],isLoading:l,records:S,entityName:"Servers",idField:"name",customEmptyMessage:"No Pools found"})})]})})),g=t(64554),b=t(45902),C=t(45248),k=t(45987),P=t(53767),A=["children"],w=function(e){var n=e.children,t=void 0===n?null:n,r=(0,k.Z)(e,A);return(0,j.jsx)(P.Z,(0,o.Z)((0,o.Z)({direction:{xs:"column",sm:"row"},justifyContent:"space-between",margin:"5px 0 5px 0",spacing:{xs:1,sm:2,md:4}},r),{},{children:t}))},S={border:"#EAEAEA 1px solid",borderRadius:"3px",padding:"0px 20px",position:"relative"},z={display:"grid",gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr"},gridAutoFlow:{xs:"dense",sm:"row"},gap:2,padding:"15px"},R=function(){var e,n,t,a=(0,s.s0)(),l=(0,i.v9)((function(e){return e.tenants.tenantInfo})),c=(0,i.v9)((function(e){return e.tenants.selectedPool})),d=(null===l||void 0===l?void 0:l.pools.find((function(e){return e.name===c})))||null;if(null===d)return null;var f="None";d.affinity&&(f=d.affinity.nodeAffinity?"Node Selector":"Default (Pod Anti-Affinity)");var v=function(e){var n=e.title;return(0,j.jsx)(w,{sx:{borderBottom:"1px solid #eaeaea",margin:0,marginBottom:"20px"},children:(0,j.jsx)("h3",{children:n})})};return(0,j.jsx)(r.Fragment,{children:(0,j.jsxs)(u.ZP,{item:!0,xs:12,sx:(0,o.Z)({},S),children:[(0,j.jsx)("div",{style:{position:"absolute",right:20,top:18},children:(0,j.jsx)(p.zxk,{icon:(0,j.jsx)(p.Jpd,{}),onClick:function(){a("/namespaces/".concat((null===l||void 0===l?void 0:l.namespace)||"","/tenants/").concat((null===l||void 0===l?void 0:l.name)||"","/edit-pool"))},label:"Edit Pool",id:"editPool"})}),(0,j.jsx)(v,{title:"Pool Configuration"}),(0,j.jsxs)(g.Z,{sx:(0,o.Z)({},z),children:[(0,j.jsx)(b.Z,{label:"Pool Name",value:d.name}),(0,j.jsx)(b.Z,{label:"Total Volumes",value:d.volumes}),(0,j.jsx)(b.Z,{label:"Volumes per server",value:d.volumes_per_server}),(0,j.jsx)(b.Z,{label:"Capacity",value:d.capacity})]}),(0,j.jsx)(v,{title:"Resources"}),(0,j.jsxs)(g.Z,{sx:(0,o.Z)({},z),children:[d.resources&&(0,j.jsxs)(r.Fragment,{children:[(0,j.jsx)(b.Z,{label:"CPU",value:d.resources.requests.cpu}),(0,j.jsx)(b.Z,{label:"Memory",value:(0,C.l5)(d.resources.requests.memory)})]}),(0,j.jsx)(b.Z,{label:"Volume Size",value:(0,C.l5)(d.volume_configuration.size)}),(0,j.jsx)(b.Z,{label:"Storage Class Name",value:d.volume_configuration.storage_class_name})]}),d.securityContext&&(d.securityContext.runAsNonRoot||d.securityContext.runAsUser||d.securityContext.runAsGroup||d.securityContext.fsGroup)&&(0,j.jsxs)(r.Fragment,{children:[(0,j.jsx)(v,{title:"Security Context"}),(0,j.jsxs)(g.Z,{children:[null!==d.securityContext.runAsNonRoot&&(0,j.jsx)(g.Z,{sx:(0,o.Z)({},z),children:(0,j.jsx)(b.Z,{label:"Run as Non Root",value:d.securityContext.runAsNonRoot?"Yes":"No"})}),(0,j.jsxs)(g.Z,{sx:(0,o.Z)((0,o.Z)({},z),{},{gridTemplateColumns:{xs:"1fr",sm:"2fr 1fr",md:"1fr 1fr 1fr"}}),children:[d.securityContext.runAsUser&&(0,j.jsx)(b.Z,{label:"Run as User",value:d.securityContext.runAsUser}),d.securityContext.runAsGroup&&(0,j.jsx)(b.Z,{label:"Run as Group",value:d.securityContext.runAsGroup}),d.securityContext.fsGroup&&(0,j.jsx)(b.Z,{label:"FsGroup",value:d.securityContext.fsGroup})]})]})]}),(0,j.jsx)(v,{title:"Affinity"}),(0,j.jsxs)(g.Z,{children:[(0,j.jsxs)(g.Z,{sx:(0,o.Z)({},z),children:[(0,j.jsx)(b.Z,{label:"Type",value:f}),null!==(e=d.affinity)&&void 0!==e&&e.nodeAffinity&&null!==(n=d.affinity)&&void 0!==n&&n.podAntiAffinity?(0,j.jsx)(b.Z,{label:"With Pod Anti affinity",value:"Yes"}):(0,j.jsx)("span",{})]}),(null===(t=d.affinity)||void 0===t?void 0:t.nodeAffinity)&&(0,j.jsxs)(r.Fragment,{children:[(0,j.jsx)(v,{title:"Labels"}),(0,j.jsx)("ul",{children:d.affinity.nodeAffinity.requiredDuringSchedulingIgnoredDuringExecution.nodeSelectorTerms.map((function(e){return e.matchExpressions.map((function(e){return(0,j.jsxs)("li",{children:[e.key," - ",e.values.join(", ")]})}))}))})]})]}),d.tolerations&&d.tolerations.length>0&&(0,j.jsxs)(r.Fragment,{children:[(0,j.jsx)(v,{title:"Tolerations"}),(0,j.jsx)(g.Z,{children:(0,j.jsx)("ul",{children:d.tolerations.map((function(e){var n,t;return(0,j.jsx)("li",{children:"Equal"===e.operator?(0,j.jsxs)(r.Fragment,{children:["If ",(0,j.jsx)("strong",{children:e.key})," is equal to"," ",(0,j.jsx)("strong",{children:e.value})," then"," ",(0,j.jsx)("strong",{children:e.effect})," after"," ",(0,j.jsx)("strong",{children:(null===(n=e.tolerationSeconds)||void 0===n?void 0:n.seconds)||0})," ","seconds"]}):(0,j.jsxs)(r.Fragment,{children:["If ",(0,j.jsx)("strong",{children:e.key})," exists then"," ",(0,j.jsx)("strong",{children:e.effect})," after"," ",(0,j.jsx)("strong",{children:(null===(t=e.tolerationSeconds)||void 0===t?void 0:t.seconds)||0})," ","seconds"]})})}))})})]})]})})},N=t(84669),F=(0,l.Z)((function(e){return(0,a.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},c.oZ),c.OR),c.VX),(0,c.Bz)(e.spacing(4))))}))((function(e){var n=e.classes,t=(0,d.TL)(),o=(0,s.TH)().pathname,a=void 0===o?"":o,l=(0,i.v9)((function(e){return e.tenants.selectedPool})),c=(0,i.v9)((function(e){return e.tenants.poolDetailsOpen}));return(0,j.jsxs)(r.Fragment,{children:[c&&(0,j.jsx)(u.ZP,{item:!0,xs:12,children:(0,j.jsx)(N.Z,{executeOnClick:function(){t((0,h.AH)(!1))},label:"Pools list",to:a})}),(0,j.jsx)("h1",{className:n.sectionTitle,children:c?"Pool Details - ".concat(l||""):"Pools"}),(0,j.jsx)(u.ZP,{container:!0,children:c?(0,j.jsx)(R,{}):(0,j.jsx)(y,{setPoolDetailsView:function(){t((0,h.AH)(!0))}})})]})}))},26759:function(e,n,t){"use strict";var o=t(64836);n.Z=void 0;var r=o(t(45649)),i=t(80184),s=(0,r.default)((0,i.jsx)("path",{d:"m7 10 5 5 5-5z"}),"ArrowDropDown");n.Z=s},70366:function(e,n,t){"use strict";var o=t(64836);n.Z=void 0;var r=o(t(45649)),i=t(80184),s=(0,r.default)((0,i.jsx)("path",{d:"m7 14 5-5 5 5z"}),"ArrowDropUp");n.Z=s},97911:function(e,n,t){"use strict";var o=t(64836);n.Z=void 0;var r=o(t(45649)),i=t(80184),s=(0,r.default)((0,i.jsx)("path",{d:"M14.67 5v14H9.33V5h5.34zm1 14H21V5h-5.33v14zm-7.34 0V5H3v14h5.33z"}),"ViewColumn");n.Z=s},94454:function(e,n,t){"use strict";t.d(n,{Z:function(){return S}});var o=t(4942),r=t(63366),i=t(87462),s=t(72791),a=t(28182),l=t(94419),c=t(12065),u=t(97278),d=t(76189),f=t(80184),v=(0,d.Z)((0,f.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),x=(0,d.Z)((0,f.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),p=(0,d.Z)((0,f.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),m=t(14036),h=t(31402),Z=t(66934),j=t(75878),y=t(21217);function g(e){return(0,y.Z)("MuiCheckbox",e)}var b=(0,j.Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),C=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],k=(0,Z.ZP)(u.Z,{shouldForwardProp:function(e){return(0,Z.FO)(e)||"classes"===e},name:"MuiCheckbox",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,t.indeterminate&&n.indeterminate,"default"!==t.color&&n["color".concat((0,m.Z)(t.color))]]}})((function(e){var n,t=e.theme,r=e.ownerState;return(0,i.Z)({color:(t.vars||t).palette.text.secondary},!r.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat("default"===r.color?t.vars.palette.action.activeChannel:t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,c.Fq)("default"===r.color?t.palette.action.active:t.palette[r.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==r.color&&(n={},(0,o.Z)(n,"&.".concat(b.checked,", &.").concat(b.indeterminate),{color:(t.vars||t).palette[r.color].main}),(0,o.Z)(n,"&.".concat(b.disabled),{color:(t.vars||t).palette.action.disabled}),n))})),P=(0,f.jsx)(x,{}),A=(0,f.jsx)(v,{}),w=(0,f.jsx)(p,{}),S=s.forwardRef((function(e,n){var t,o,c=(0,h.Z)({props:e,name:"MuiCheckbox"}),u=c.checkedIcon,d=void 0===u?P:u,v=c.color,x=void 0===v?"primary":v,p=c.icon,Z=void 0===p?A:p,j=c.indeterminate,y=void 0!==j&&j,b=c.indeterminateIcon,S=void 0===b?w:b,z=c.inputProps,R=c.size,N=void 0===R?"medium":R,F=c.className,E=(0,r.Z)(c,C),T=y?S:Z,V=y?S:d,D=(0,i.Z)({},c,{color:x,indeterminate:y,size:N}),I=function(e){var n=e.classes,t=e.indeterminate,o=e.color,r={root:["root",t&&"indeterminate","color".concat((0,m.Z)(o))]},s=(0,l.Z)(r,g,n);return(0,i.Z)({},n,s)}(D);return(0,f.jsx)(k,(0,i.Z)({type:"checkbox",inputProps:(0,i.Z)({"data-indeterminate":y},z),icon:s.cloneElement(T,{fontSize:null!=(t=T.props.fontSize)?t:N}),checkedIcon:s.cloneElement(V,{fontSize:null!=(o=V.props.fontSize)?o:N}),ownerState:D,ref:n,className:(0,a.Z)(I.root,F)},E,{classes:I}))}))},53767:function(e,n,t){"use strict";var o=t(4942),r=t(63366),i=t(87462),s=t(72791),a=t(51184),l=t(45682),c=t(78519),u=t(82466),d=t(66934),f=t(31402),v=t(80184),x=["component","direction","spacing","divider","children"];function p(e,n){var t=s.Children.toArray(e).filter(Boolean);return t.reduce((function(e,o,r){return e.push(o),r<t.length-1&&e.push(s.cloneElement(n,{key:"separator-".concat(r)})),e}),[])}var m=(0,d.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,n){return[n.root]}})((function(e){var n=e.ownerState,t=e.theme,r=(0,i.Z)({display:"flex",flexDirection:"column"},(0,a.k9)({theme:t},(0,a.P$)({values:n.direction,breakpoints:t.breakpoints.values}),(function(e){return{flexDirection:e}})));if(n.spacing){var s=(0,l.hB)(t),c=Object.keys(t.breakpoints.values).reduce((function(e,t){return("object"===typeof n.spacing&&null!=n.spacing[t]||"object"===typeof n.direction&&null!=n.direction[t])&&(e[t]=!0),e}),{}),d=(0,a.P$)({values:n.direction,base:c}),f=(0,a.P$)({values:n.spacing,base:c});"object"===typeof d&&Object.keys(d).forEach((function(e,n,t){if(!d[e]){var o=n>0?d[t[n-1]]:"column";d[e]=o}}));r=(0,u.Z)(r,(0,a.k9)({theme:t},f,(function(e,t){return{"& > :not(style) + :not(style)":(0,o.Z)({margin:0},"margin".concat((r=t?d[t]:n.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[r])),(0,l.NA)(s,e))};var r})))}return r=(0,a.dt)(t.breakpoints,r)})),h=s.forwardRef((function(e,n){var t=(0,f.Z)({props:e,name:"MuiStack"}),o=(0,c.Z)(t),s=o.component,a=void 0===s?"div":s,l=o.direction,u=void 0===l?"column":l,d=o.spacing,h=void 0===d?0:d,Z=o.divider,j=o.children,y=(0,r.Z)(o,x),g={direction:u,spacing:h};return(0,v.jsx)(m,(0,i.Z)({as:a,ownerState:g,ref:n},y,{children:Z?p(j,Z):j}))}));n.Z=h},26769:function(e,n,t){var o=t(39066),r=t(93629),i=t(43141);e.exports=function(e){return"string"==typeof e||!r(e)&&i(e)&&"[object String]"==o(e)}}}]);
//# sourceMappingURL=8998.a5f0b2dc.chunk.js.map