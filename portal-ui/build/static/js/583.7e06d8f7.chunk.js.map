{"version":3,"file":"static/js/583.7e06d8f7.chunk.js","mappings":"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","sources":["screens/Console/Buckets/ListBuckets/AddBucket/AddBucketName.tsx","screens/Console/Buckets/ListBuckets/AddBucket/ValidRule.tsx","screens/Console/Buckets/ListBuckets/AddBucket/InvalidRule.tsx","screens/Console/Buckets/ListBuckets/AddBucket/NARule.tsx","screens/Console/Buckets/ListBuckets/AddBucket/BucketNamingRules.tsx","screens/Console/Buckets/ListBuckets/AddBucket/AddBucket.tsx","screens/Console/Common/FormLayout.tsx"],"sourcesContent":["// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from \"react\";\nimport { setName, setIsDirty } from \"./addBucketsSlice\";\nimport InputBoxWrapper from \"../../../Common/FormComponents/InputBoxWrapper/InputBoxWrapper\";\nimport { useSelector } from \"react-redux\";\nimport { AppState, useAppDispatch } from \"../../../../../store\";\n\nconst AddBucketName = ({ hasErrors }: { hasErrors: boolean }) => {\n  const dispatch = useAppDispatch();\n\n  const bucketName = useSelector((state: AppState) => state.addBucket.name);\n  return (\n    <InputBoxWrapper\n      id=\"bucket-name\"\n      name=\"bucket-name\"\n      error={hasErrors ? \"Invalid bucket name\" : \"\"}\n      onFocus={() => {\n        dispatch(setIsDirty(true));\n      }}\n      onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n        dispatch(setName(event.target.value));\n      }}\n      label=\"Bucket Name\"\n      value={bucketName}\n      required\n    />\n  );\n};\n\nexport default AddBucketName;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment } from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport { ConfirmModalIcon } from \"mds\";\n\ninterface IValidRule {\n  ruleText: string;\n}\n\nconst ValidRule = ({ ruleText }: IValidRule) => {\n  return (\n    <Fragment>\n      <Grid container style={{ display: \"flex\", justifyContent: \"flex-start\" }}>\n        <Grid item xs={1} paddingRight={1}>\n          <ConfirmModalIcon\n            width={\"16px\"}\n            height={\"16px\"}\n            style={{ color: \"#18BF42\" }}\n          />\n        </Grid>\n        <Grid\n          item\n          xs={9}\n          paddingLeft={1}\n          style={{\n            color: \"#8f949c\",\n            display: \"flex\",\n            justifyContent: \"flex-start\",\n          }}\n        >\n          {ruleText}\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n};\n\nexport default ValidRule;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment } from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport { ConfirmDeleteIcon } from \"mds\";\n\ninterface IInvalidRule {\n  ruleText: string;\n}\n\nconst InvalidRule = ({ ruleText }: IInvalidRule) => {\n  return (\n    <Fragment>\n      <Grid\n        container\n        style={{\n          color: \"#C83B51\",\n          display: \"flex\",\n          justifyContent: \"flex-start\",\n        }}\n      >\n        <Grid item xs={1} paddingRight={1}>\n          <ConfirmDeleteIcon width={\"16px\"} height={\"16px\"} />\n        </Grid>\n        <Grid\n          item\n          xs={9}\n          paddingLeft={1}\n          style={{\n            color: \"#C83B51\",\n            display: \"flex\",\n            justifyContent: \"flex-start\",\n          }}\n        >\n          {ruleText}\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n};\n\nexport default InvalidRule;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment } from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport { CircleIcon } from \"mds\";\n\ninterface INARule {\n  ruleText: string;\n}\n\nconst NARule = ({ ruleText }: INARule) => {\n  return (\n    <Fragment>\n      <Grid container style={{ display: \"flex\", justifyContent: \"flex-start\" }}>\n        <Grid item xs={1} paddingRight={1}>\n          <CircleIcon\n            width={\"12px\"}\n            height={\"12px\"}\n            style={{ color: \"#8f949c\" }}\n          />\n        </Grid>\n        <Grid\n          item\n          xs={9}\n          paddingLeft={1}\n          style={{\n            color: \"#8f949c\",\n            display: \"flex\",\n            justifyContent: \"flex-start\",\n          }}\n        >\n          {ruleText}\n        </Grid>\n      </Grid>\n    </Fragment>\n  );\n};\n\nexport default NARule;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useState } from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport { LinearProgress } from \"@mui/material\";\nimport { AppState } from \"../../../../../store\";\nimport { useSelector } from \"react-redux\";\nimport { CollapseCaret, ExpandCaret } from \"mds\";\nimport { Button } from \"mds\";\nimport ValidRule from \"./ValidRule\";\nimport InvalidRule from \"./InvalidRule\";\nimport NARule from \"./NARule\";\n\nconst BucketNamingRules = ({ errorList }: { errorList: boolean[] }) => {\n  const lengthRuleText =\n    \"Bucket names must be between 3 (min) and 63 (max) characters long.\";\n  const characterRuleText =\n    \"Bucket names can consist only of lowercase letters, numbers, dots (.), and hyphens (-).\";\n  const periodRuleText =\n    \"Bucket names must not contain two adjacent periods, or a period adjacent to a hyphen.\";\n  const ipRuleText =\n    \"Bucket names must not be formatted as an IP address (for example, 192.168.5.4).\";\n  const prefixRuleText = \"Bucket names must not start with the prefix xn--.\";\n  const suffixRuleText =\n    \"Bucket names must not end with the suffix -s3alias. This suffix is reserved for access point alias names.\";\n  const uniqueRuleText = \"Bucket names must be unique within a partition.\";\n\n  const bucketName = useSelector((state: AppState) => state.addBucket.name);\n\n  const [showNamingRules, setShowNamingRules] = useState<boolean>(false);\n\n  const addLoading = useSelector((state: AppState) => state.addBucket.loading);\n\n  const [\n    lengthRule,\n    validCharacters,\n    noAdjacentPeriods,\n    notIPFormat,\n    noPrefix,\n    noSuffix,\n    uniqueName,\n  ] = errorList;\n\n  const toggleNamingRules = () => {\n    setShowNamingRules(!showNamingRules);\n  };\n\n  return (\n    <Fragment>\n      <Button\n        type=\"button\"\n        id={\"toggle-naming-rules\"}\n        onClick={() => {\n          toggleNamingRules();\n        }}\n        icon={showNamingRules ? <CollapseCaret /> : <ExpandCaret />}\n        label={(showNamingRules ? \"Hide\" : \"View\") + \" Bucket Naming Rules\"}\n        style={{\n          height: \"10px\",\n          width: \"200px\",\n          textAlign: \"left\",\n          paddingLeft: 0,\n          fontSize: \"9px\",\n          border: \"none\",\n        }}\n      />\n      {showNamingRules && (\n        <Grid container fontSize={14} paddingTop={2}>\n          <Grid item xs={6}>\n            {bucketName.length === 0 ? (\n              <NARule ruleText={lengthRuleText} />\n            ) : lengthRule ? (\n              <ValidRule ruleText={lengthRuleText} />\n            ) : (\n              <InvalidRule ruleText={lengthRuleText} />\n            )}\n            {bucketName.length === 0 ? (\n              <NARule ruleText={characterRuleText} />\n            ) : validCharacters ? (\n              <ValidRule ruleText={characterRuleText} />\n            ) : (\n              <InvalidRule ruleText={characterRuleText} />\n            )}\n            {bucketName.length === 0 ? (\n              <NARule ruleText={periodRuleText} />\n            ) : noAdjacentPeriods ? (\n              <ValidRule ruleText={periodRuleText} />\n            ) : (\n              <InvalidRule ruleText={periodRuleText} />\n            )}\n            {bucketName.length === 0 ? (\n              <NARule ruleText={ipRuleText} />\n            ) : notIPFormat ? (\n              <ValidRule ruleText={ipRuleText} />\n            ) : (\n              <InvalidRule ruleText={ipRuleText} />\n            )}\n          </Grid>\n          <Grid item xs={6}>\n            {bucketName.length === 0 ? (\n              <NARule ruleText={prefixRuleText} />\n            ) : noPrefix ? (\n              <ValidRule ruleText={prefixRuleText} />\n            ) : (\n              <InvalidRule ruleText={prefixRuleText} />\n            )}\n\n            {bucketName.length === 0 ? (\n              <NARule ruleText={suffixRuleText} />\n            ) : noSuffix ? (\n              <ValidRule ruleText={suffixRuleText} />\n            ) : (\n              <InvalidRule ruleText={suffixRuleText} />\n            )}\n\n            {bucketName.length === 0 ? (\n              <NARule ruleText={uniqueRuleText} />\n            ) : uniqueName ? (\n              <ValidRule ruleText={uniqueRuleText} />\n            ) : (\n              <InvalidRule ruleText={uniqueRuleText} />\n            )}\n          </Grid>\n        </Grid>\n      )}\n\n      {addLoading && (\n        <Grid item xs={12}>\n          <LinearProgress />\n        </Grid>\n      )}\n    </Fragment>\n  );\n};\n\nexport default BucketNamingRules;\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React, { Fragment, useEffect, useState } from \"react\";\nimport Grid from \"@mui/material/Grid\";\nimport { LinearProgress } from \"@mui/material\";\nimport { Theme } from \"@mui/material/styles\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Button } from \"mds\";\nimport createStyles from \"@mui/styles/createStyles\";\nimport withStyles from \"@mui/styles/withStyles\";\nimport { containerForHeader } from \"../../../Common/FormComponents/common/styleLibrary\";\nimport InputBoxWrapper from \"../../../Common/FormComponents/InputBoxWrapper/InputBoxWrapper\";\nimport RadioGroupSelector from \"../../../Common/FormComponents/RadioGroupSelector/RadioGroupSelector\";\nimport { k8sScalarUnitsExcluding } from \"../../../../../common/utils\";\nimport { AppState, useAppDispatch } from \"../../../../../store\";\nimport { useSelector } from \"react-redux\";\nimport FormSwitchWrapper from \"../../../Common/FormComponents/FormSwitchWrapper/FormSwitchWrapper\";\nimport PageHeader from \"../../../Common/PageHeader/PageHeader\";\nimport BackLink from \"../../../../../common/BackLink\";\nimport { BucketsIcon, InfoIcon } from \"mds\";\nimport { setErrorSnackMessage } from \"../../../../../systemSlice\";\nimport { ErrorResponseHandler } from \"../../../../../common/types\";\nimport { BucketList } from \"../../types\";\nimport api from \"../../../../../common/api\";\nimport PageLayout from \"../../../Common/Layout/PageLayout\";\nimport InputUnitMenu from \"../../../Common/FormComponents/InputUnitMenu/InputUnitMenu\";\nimport FormLayout from \"../../../Common/FormLayout\";\nimport HelpBox from \"../../../../../common/HelpBox\";\nimport TooltipWrapper from \"../../../Common/TooltipWrapper/TooltipWrapper\";\nimport SectionTitle from \"../../../Common/SectionTitle\";\nimport { selDistSet, selSiteRep } from \"../../../../../systemSlice\";\nimport {\n  resetForm,\n  setEnableObjectLocking,\n  setIsDirty,\n  setName,\n  setQuota,\n  setQuotaSize,\n  setQuotaUnit,\n  setRetention,\n  setRetentionMode,\n  setRetentionUnit,\n  setRetentionValidity,\n  setVersioning,\n} from \"./addBucketsSlice\";\nimport { addBucketAsync } from \"./addBucketThunks\";\nimport AddBucketName from \"./AddBucketName\";\nimport {\n  IAM_SCOPES,\n  permissionTooltipHelper,\n} from \"../../../../../common/SecureComponent/permissions\";\nimport { hasPermission } from \"../../../../../common/SecureComponent\";\nimport BucketNamingRules from \"./BucketNamingRules\";\n\nconst styles = (theme: Theme) =>\n  createStyles({\n    buttonContainer: {\n      marginTop: 24,\n      display: \"flex\",\n      justifyContent: \"flex-end\",\n      \"& button\": {\n        marginLeft: 8,\n      },\n    },\n    error: {\n      color: \"#b53b4b\",\n      border: \"1px solid #b53b4b\",\n      padding: 8,\n      borderRadius: 3,\n    },\n    alertVersioning: {\n      border: \"#E2E2E2 1px solid\",\n      backgroundColor: \"#FBFAFA\",\n      borderRadius: 3,\n      display: \"flex\",\n      alignItems: \"center\",\n      padding: \"10px\",\n      color: \"#767676\",\n      \"& > .min-icon \": {\n        width: 20,\n        height: 20,\n        marginRight: 10,\n      },\n    },\n    title: {\n      marginBottom: 8,\n    },\n    headTitle: {\n      fontWeight: \"bold\",\n      fontSize: 16,\n      paddingLeft: 8,\n    },\n    h6title: {\n      fontWeight: \"bold\",\n      color: \"#000000\",\n      fontSize: 20,\n    },\n    ...containerForHeader(theme.spacing(4)),\n  });\n\ninterface IsetProps {\n  classes: any;\n}\n\nconst AddBucket = ({ classes }: IsetProps) => {\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n\n  const validBucketCharacters = new RegExp(\n    `^[a-z0-9][a-z0-9\\\\.\\\\-]{1,61}[a-z0-9]$`\n  );\n  const ipAddressFormat = new RegExp(`^(\\\\d+\\\\.){3}\\\\d+$`);\n  const bucketName = useSelector((state: AppState) => state.addBucket.name);\n  const isDirty = useSelector((state: AppState) => state.addBucket.isDirty);\n  const [validationResult, setValidationResult] = useState<boolean[]>([]);\n  const errorList = validationResult.filter((v) => !v);\n  const hasErrors = errorList.length > 0;\n  const [records, setRecords] = useState<string[]>([]);\n  const versioningEnabled = useSelector(\n    (state: AppState) => state.addBucket.versioningEnabled\n  );\n  const lockingEnabled = useSelector(\n    (state: AppState) => state.addBucket.lockingEnabled\n  );\n  const quotaEnabled = useSelector(\n    (state: AppState) => state.addBucket.quotaEnabled\n  );\n  const quotaSize = useSelector((state: AppState) => state.addBucket.quotaSize);\n  const quotaUnit = useSelector((state: AppState) => state.addBucket.quotaUnit);\n  const retentionEnabled = useSelector(\n    (state: AppState) => state.addBucket.retentionEnabled\n  );\n  const retentionMode = useSelector(\n    (state: AppState) => state.addBucket.retentionMode\n  );\n  const retentionUnit = useSelector(\n    (state: AppState) => state.addBucket.retentionUnit\n  );\n  const retentionValidity = useSelector(\n    (state: AppState) => state.addBucket.retentionValidity\n  );\n  const addLoading = useSelector((state: AppState) => state.addBucket.loading);\n  const invalidFields = useSelector(\n    (state: AppState) => state.addBucket.invalidFields\n  );\n  const lockingFieldDisabled = useSelector(\n    (state: AppState) => state.addBucket.lockingFieldDisabled\n  );\n  const distributedSetup = useSelector(selDistSet);\n  const siteReplicationInfo = useSelector(selSiteRep);\n  const navigateTo = useSelector(\n    (state: AppState) => state.addBucket.navigateTo\n  );\n\n  const lockingAllowed = hasPermission(\n    \"*\",\n    [\n      IAM_SCOPES.S3_PUT_BUCKET_VERSIONING,\n      IAM_SCOPES.S3_PUT_BUCKET_OBJECT_LOCK_CONFIGURATION,\n      IAM_SCOPES.S3_PUT_ACTIONS,\n    ],\n    true\n  );\n\n  const versioningAllowed = hasPermission(\"*\", [\n    IAM_SCOPES.S3_PUT_BUCKET_VERSIONING,\n    IAM_SCOPES.S3_PUT_ACTIONS,\n  ]);\n\n  useEffect(() => {\n    const bucketNameErrors = [\n      !(isDirty && (bucketName.length < 3 || bucketName.length > 63)),\n      validBucketCharacters.test(bucketName),\n      !(\n        bucketName.includes(\".-\") ||\n        bucketName.includes(\"-.\") ||\n        bucketName.includes(\"..\")\n      ),\n      !ipAddressFormat.test(bucketName),\n      !bucketName.startsWith(\"xn--\"),\n      !bucketName.endsWith(\"-s3alias\"),\n      !records.includes(bucketName),\n    ];\n    setValidationResult(bucketNameErrors);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [bucketName, isDirty]);\n\n  useEffect(() => {\n    dispatch(setName(\"\"));\n    dispatch(setIsDirty(false));\n    const fetchRecords = () => {\n      api\n        .invoke(\"GET\", `/api/v1/buckets`)\n        .then((res: BucketList) => {\n          var bucketList: string[] = [];\n          if (res.buckets != null && res.buckets.length > 0) {\n            res.buckets.forEach((bucket) => {\n              bucketList.push(bucket.name);\n            });\n          }\n          setRecords(bucketList);\n        })\n        .catch((err: ErrorResponseHandler) => {\n          dispatch(setErrorSnackMessage(err));\n        });\n    };\n    fetchRecords();\n  }, [dispatch]);\n\n  const resForm = () => {\n    dispatch(resetForm());\n  };\n\n  useEffect(() => {\n    if (navigateTo !== \"\") {\n      const goTo = `${navigateTo}`;\n      dispatch(resetForm());\n      navigate(goTo);\n    }\n  }, [navigateTo, navigate, dispatch]);\n\n  return (\n    <Fragment>\n      <PageHeader label={<BackLink to={\"/buckets\"} label={\"Buckets\"} />} />\n      <PageLayout>\n        <FormLayout\n          title={\"Create Bucket\"}\n          icon={<BucketsIcon />}\n          helpbox={\n            <HelpBox\n              iconComponent={<BucketsIcon />}\n              title={\"Buckets\"}\n              help={\n                <Fragment>\n                  MinIO uses buckets to organize objects. A bucket is similar to\n                  a folder or directory in a filesystem, where each bucket can\n                  hold an arbitrary number of objects.\n                  <br />\n                  <br />\n                  <b>Versioning</b> allows to keep multiple versions of the same\n                  object under the same key.\n                  <br />\n                  <br />\n                  <b>Object Locking</b> prevents objects from being deleted.\n                  Required to support retention and legal hold. Can only be\n                  enabled at bucket creation.\n                  <br />\n                  <br />\n                  <b>Quota</b> limits the amount of data in the bucket.\n                  {lockingAllowed && (\n                    <Fragment>\n                      <br />\n                      <br />\n                      <b>Retention</b> imposes rules to prevent object deletion\n                      for a period of time. Versioning must be enabled in order\n                      to set bucket retention policies.\n                    </Fragment>\n                  )}\n                  <br />\n                  <br />\n                </Fragment>\n              }\n            />\n          }\n        >\n          <form\n            noValidate\n            autoComplete=\"off\"\n            onSubmit={(e: React.FormEvent<HTMLFormElement>) => {\n              e.preventDefault();\n              dispatch(addBucketAsync());\n            }}\n          >\n            <Grid container marginTop={1} spacing={2}>\n              <Grid item xs={12}>\n                <AddBucketName hasErrors={hasErrors} />\n              </Grid>\n              <Grid item xs={12}>\n                <BucketNamingRules errorList={validationResult} />\n              </Grid>\n              <Grid item xs={12}>\n                <SectionTitle>Features</SectionTitle>\n                {!distributedSetup && (\n                  <Fragment>\n                    <div className={classes.error}>\n                      These features are unavailable in a single-disk setup.\n                      <br />\n                      Please deploy a server in{\" \"}\n                      <a\n                        href=\"https://min.io/docs/minio/linux/operations/install-deploy-manage/deploy-minio-multi-node-multi-drive.html?ref=con\"\n                        target=\"_blank\"\n                        rel=\"noreferrer\"\n                      >\n                        Distributed Mode\n                      </a>{\" \"}\n                      to use these features.\n                    </div>\n                    <br />\n                    <br />\n                  </Fragment>\n                )}\n              </Grid>\n              <Grid item xs={12} spacing={2}>\n                {siteReplicationInfo.enabled && (\n                  <Fragment>\n                    <br />\n                    <div className={classes.alertVersioning}>\n                      <InfoIcon /> Versioning setting cannot be changed as\n                      cluster replication is enabled for this site.\n                    </div>\n                    <br />\n                  </Fragment>\n                )}\n                <TooltipWrapper\n                  tooltip={\n                    versioningAllowed\n                      ? lockingEnabled && versioningEnabled\n                        ? \"You must disable Locking before Versioning can be disabled\"\n                        : \"\"\n                      : permissionTooltipHelper(\n                          [\n                            IAM_SCOPES.S3_PUT_BUCKET_VERSIONING,\n                            IAM_SCOPES.S3_PUT_ACTIONS,\n                          ],\n                          \"Versioning\"\n                        )\n                  }\n                >\n                  <FormSwitchWrapper\n                    value=\"versioned\"\n                    id=\"versioned\"\n                    name=\"versioned\"\n                    checked={versioningEnabled}\n                    onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n                      dispatch(setVersioning(event.target.checked));\n                    }}\n                    label={\"Versioning\"}\n                    disabled={\n                      !distributedSetup ||\n                      lockingEnabled ||\n                      siteReplicationInfo.enabled ||\n                      !versioningAllowed\n                    }\n                  />\n                </TooltipWrapper>\n              </Grid>\n              <Grid item xs={12}>\n                <TooltipWrapper\n                  tooltip={\n                    lockingAllowed\n                      ? \"\"\n                      : permissionTooltipHelper(\n                          [\n                            IAM_SCOPES.S3_PUT_BUCKET_VERSIONING,\n                            IAM_SCOPES.S3_PUT_BUCKET_OBJECT_LOCK_CONFIGURATION,\n                            IAM_SCOPES.S3_PUT_ACTIONS,\n                          ],\n                          \"Locking\"\n                        )\n                  }\n                >\n                  <FormSwitchWrapper\n                    value=\"locking\"\n                    id=\"locking\"\n                    name=\"locking\"\n                    disabled={\n                      lockingFieldDisabled ||\n                      !distributedSetup ||\n                      !lockingAllowed\n                    }\n                    checked={lockingEnabled}\n                    onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n                      dispatch(setEnableObjectLocking(event.target.checked));\n                      if (\n                        event.target.checked &&\n                        !siteReplicationInfo.enabled\n                      ) {\n                        dispatch(setVersioning(true));\n                      }\n                    }}\n                    label={\"Object Locking\"}\n                  />\n                </TooltipWrapper>\n              </Grid>\n\n              <Grid item xs={12}>\n                <FormSwitchWrapper\n                  value=\"bucket_quota\"\n                  id=\"bucket_quota\"\n                  name=\"bucket_quota\"\n                  checked={quotaEnabled}\n                  onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n                    dispatch(setQuota(event.target.checked));\n                  }}\n                  label={\"Quota\"}\n                  disabled={!distributedSetup}\n                />\n              </Grid>\n              {quotaEnabled && distributedSetup && (\n                <React.Fragment>\n                  <Grid item xs={12}>\n                    <InputBoxWrapper\n                      type=\"string\"\n                      id=\"quota_size\"\n                      name=\"quota_size\"\n                      onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n                        dispatch(setQuotaSize(e.target.value));\n                      }}\n                      label=\"Capacity\"\n                      value={quotaSize}\n                      required\n                      min=\"1\"\n                      overlayObject={\n                        <InputUnitMenu\n                          id={\"quota_unit\"}\n                          onUnitChange={(newValue) => {\n                            dispatch(setQuotaUnit(newValue));\n                          }}\n                          unitSelected={quotaUnit}\n                          unitsList={k8sScalarUnitsExcluding([\"Ki\"])}\n                          disabled={false}\n                        />\n                      }\n                      error={\n                        invalidFields.includes(\"quotaSize\")\n                          ? \"Please enter a valid quota\"\n                          : \"\"\n                      }\n                    />\n                  </Grid>\n                </React.Fragment>\n              )}\n              {versioningEnabled && distributedSetup && lockingAllowed && (\n                <Grid item xs={12}>\n                  <FormSwitchWrapper\n                    value=\"bucket_retention\"\n                    id=\"bucket_retention\"\n                    name=\"bucket_retention\"\n                    checked={retentionEnabled}\n                    onChange={(event: React.ChangeEvent<HTMLInputElement>) => {\n                      dispatch(setRetention(event.target.checked));\n                    }}\n                    label={\"Retention\"}\n                  />\n                </Grid>\n              )}\n              {retentionEnabled && distributedSetup && (\n                <React.Fragment>\n                  <Grid item xs={12}>\n                    <RadioGroupSelector\n                      currentSelection={retentionMode}\n                      id=\"retention_mode\"\n                      name=\"retention_mode\"\n                      label=\"Mode\"\n                      onChange={(e: React.ChangeEvent<{ value: unknown }>) => {\n                        dispatch(setRetentionMode(e.target.value as string));\n                      }}\n                      selectorOptions={[\n                        { value: \"compliance\", label: \"Compliance\" },\n                        { value: \"governance\", label: \"Governance\" },\n                      ]}\n                    />\n                  </Grid>\n                  <Grid item xs={12}>\n                    <InputBoxWrapper\n                      type=\"number\"\n                      id=\"retention_validity\"\n                      name=\"retention_validity\"\n                      onChange={(e: React.ChangeEvent<HTMLInputElement>) => {\n                        dispatch(setRetentionValidity(e.target.valueAsNumber));\n                      }}\n                      label=\"Validity\"\n                      value={String(retentionValidity)}\n                      required\n                      overlayObject={\n                        <InputUnitMenu\n                          id={\"retention_unit\"}\n                          onUnitChange={(newValue) => {\n                            dispatch(setRetentionUnit(newValue));\n                          }}\n                          unitSelected={retentionUnit}\n                          unitsList={[\n                            { value: \"days\", label: \"Days\" },\n                            { value: \"years\", label: \"Years\" },\n                          ]}\n                          disabled={false}\n                        />\n                      }\n                    />\n                  </Grid>\n                </React.Fragment>\n              )}\n            </Grid>\n            <Grid item xs={12} className={classes.buttonContainer}>\n              <Button\n                id={\"clear\"}\n                type=\"button\"\n                variant={\"regular\"}\n                className={classes.clearButton}\n                onClick={resForm}\n                label={\"Clear\"}\n              />\n              <TooltipWrapper\n                tooltip={\n                  invalidFields.length > 0 || !isDirty || hasErrors\n                    ? \"You must apply a valid name to the bucket\"\n                    : \"\"\n                }\n              >\n                <Button\n                  id={\"create-bucket\"}\n                  type=\"submit\"\n                  variant=\"callAction\"\n                  color=\"primary\"\n                  disabled={\n                    addLoading ||\n                    invalidFields.length > 0 ||\n                    !isDirty ||\n                    hasErrors\n                  }\n                  label={\"Create Bucket\"}\n                />\n              </TooltipWrapper>\n            </Grid>\n            {addLoading && (\n              <Grid item xs={12}>\n                <LinearProgress />\n              </Grid>\n            )}\n          </form>\n        </FormLayout>\n      </PageLayout>\n    </Fragment>\n  );\n};\n\nexport default withStyles(styles)(AddBucket);\n","// This file is part of MinIO Console Server\n// Copyright (c) 2022 MinIO, Inc.\n//\n// This program is free software: you can redistribute it and/or modify\n// it under the terms of the GNU Affero General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// This program is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU Affero General Public License for more details.\n//\n// You should have received a copy of the GNU Affero General Public License\n// along with this program.  If not, see <http://www.gnu.org/licenses/>.\n\nimport React from \"react\";\nimport { Box } from \"@mui/material\";\nimport SectionTitle from \"./SectionTitle\";\n\ntype Props = {\n  title: string;\n  icon: React.ReactNode;\n  helpbox?: React.ReactNode;\n  children: React.ReactNode;\n};\n\nconst FormLayout: React.FC<Props> = ({ children, title, helpbox, icon }) => {\n  return (\n    <Box\n      sx={{\n        display: \"grid\",\n        padding: \"25px\",\n        gap: \"25px\",\n        gridTemplateColumns: {\n          md: \"2fr 1.2fr\",\n          xs: \"1fr\",\n        },\n        border: \"1px solid #eaeaea\",\n      }}\n    >\n      <Box>\n        <SectionTitle icon={icon}>{title}</SectionTitle>\n        <Box sx={{ height: 16 }} />\n        {children}\n      </Box>\n\n      {helpbox}\n    </Box>\n  );\n};\n\nexport default FormLayout;\n"],"names":["hasErrors","dispatch","useAppDispatch","bucketName","useSelector","state","addBucket","name","InputBoxWrapper","id","error","onFocus","setIsDirty","onChange","event","setName","target","value","label","required","ruleText","Fragment","Grid","container","style","display","justifyContent","item","xs","paddingRight","width","height","color","paddingLeft","errorList","lengthRuleText","characterRuleText","periodRuleText","ipRuleText","prefixRuleText","suffixRuleText","uniqueRuleText","useState","showNamingRules","setShowNamingRules","addLoading","loading","lengthRule","validCharacters","noAdjacentPeriods","notIPFormat","noPrefix","noSuffix","uniqueName","type","onClick","icon","textAlign","fontSize","border","paddingTop","length","LinearProgress","withStyles","theme","createStyles","buttonContainer","marginTop","marginLeft","padding","borderRadius","alertVersioning","backgroundColor","alignItems","marginRight","title","marginBottom","headTitle","fontWeight","h6title","containerForHeader","spacing","classes","navigate","useNavigate","validBucketCharacters","RegExp","ipAddressFormat","isDirty","validationResult","setValidationResult","filter","v","records","setRecords","versioningEnabled","lockingEnabled","quotaEnabled","quotaSize","quotaUnit","retentionEnabled","retentionMode","retentionUnit","retentionValidity","invalidFields","lockingFieldDisabled","distributedSetup","selDistSet","siteReplicationInfo","selSiteRep","navigateTo","lockingAllowed","hasPermission","IAM_SCOPES","versioningAllowed","useEffect","bucketNameErrors","test","includes","startsWith","endsWith","api","then","res","bucketList","buckets","forEach","bucket","push","catch","err","setErrorSnackMessage","goTo","resetForm","PageHeader","BackLink","to","PageLayout","FormLayout","helpbox","HelpBox","iconComponent","help","noValidate","autoComplete","onSubmit","e","preventDefault","addBucketAsync","SectionTitle","className","href","rel","enabled","TooltipWrapper","tooltip","permissionTooltipHelper","FormSwitchWrapper","checked","setVersioning","disabled","setEnableObjectLocking","setQuota","setQuotaSize","min","overlayObject","InputUnitMenu","onUnitChange","newValue","setQuotaUnit","unitSelected","unitsList","k8sScalarUnitsExcluding","setRetention","RadioGroupSelector","currentSelection","setRetentionMode","selectorOptions","setRetentionValidity","valueAsNumber","String","setRetentionUnit","variant","clearButton","children","sx","gap","gridTemplateColumns","md"],"sourceRoot":""}